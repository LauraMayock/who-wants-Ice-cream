"""
Import gspread in order to update google spreadsheet
"""
import gspread
from google.oauth2.service_account import Credentials
import time   # import for timestamp
from datetime import date, datetime

SCOPE = [
    "https://www.googleapis.com/auth/spreadsheets",
    "https://www.googleapis.com/auth/drive.file",
    "https://www.googleapis.com/auth/drive"
    ]

CREDS = Credentials.from_service_account_file("CREDS.json")
SCOPED_CREDS = CREDS.with_scopes(SCOPE)
GSPREAD_CLIENT = gspread.authorize(SCOPED_CREDS)
SHEET = GSPREAD_CLIENT.open("Ice-creams")
flavours = SHEET.worksheet("flavours")
flavour_list = flavours.col_values(1)[1:]

#  order = SHEET.worksheet("order")

# create a list of the customers order
customer_order = []
price = []
noScoops = []
list = []
#flavour = flavours.col_values(1)  #  List of flavours in spreadsheet



# date and time generated for receipt generated by receipt function
today = date.today()
now = datetime.now()

def start_order():
    """
    Function to welcome the customer and ask if they would like to order.
    """
    print("Hi, Welcome to The Inside Scoop")
    print("Would you like to place and order?")
    question1 = input("Please enter yes or no.")
    if question1.lower() == ("yes"):
        place_order()
    elif question1.lower() == ("no"):
        print("Ok, let me know when you have decided.")
        start_order()
    else:
        print("Sorry invalid entry.")
        print("Plese enter yes or no.")
        start_order()
        

def place_order():
    choice = True
    while True:
        holder = input("What would you like a cup or a cone?").lower()
        if holder in ("cup", "cone"):
            flavour_choice()
            break
            
        else:
            holder = input("incorrect input....\n Please select cup or cone").lower()

def flavour_choice():
    print("what flavour would you like?")
    flavour_list = []
    for iceCream in flavour_list:
        flavour_choice.append(iceCream)
    num = []
    for i in range(1, 6):
        num.append(i)

    flavour_choice().names = dict(zip(num, flavour_list))

    return flavour_list
"""
def number_scoops():
    
    scoops = int(input("How many scoops? Enter 1, 2 or 3"))
    if scoops == 1:
        print("Ok, one scoop")
        customer_order.append("One scoop.")
        price.append(2.00)
        noScoops.append(1)
        flavour_choice()
    elif scoops == 2:
        print("Ok, two scoops it is.")
        customer_order.append("two scoops")
        price.append(3.00) 
        noScoops.append(2)
        flavour_choice()
    elif scoops == 3:
        print("ok, Three scoops it is.")
        customer_order.append("Three scoops")
        price.append(4.00)
        noScoops.append(3)
        flavour_choice()
    else:
        print("Sorry invalid entry.")
        number_scoops()
"""     
"""
iceCreamFlavours = {1: "vanilla", 2: "Chocolate", 3: "Strawberry",
                    4: "Mint choc", 5: "Caramel", 6: "Pistachio"}


def flavour_choice():
    chosenFlavours=set()
    print("Here are a list of the flavours we have:")
    while True:
        try:
            print(*[f" {number}. {flavour}" for number, flavour in
                  iceCreamFlavours.items()], sep="\n")
            print("Select the flavour based on number 1-6. Which would you like?")
            response = int(input("Select flavour: ").strip())  # strip function
            if  response not in iceCreamFlavours:
                print("That is not a flavour")
                continue
            if len(chosenFlavours) == 3:
                print("Sorry 3 scoops is the maxium i can give you")
                break
            else:
                chosenFlavours.add(response)
                if input("Would you like to pick another flavour? (y/n)").lower() == "n":
                   break
            
        except ValueError:
            if input("That is not a number.Do you want to finish the ice-cream? (y/n)").lower() == "y":
                break
            print("Please enter an integer!")
    # now you can print the flavour names by using the dictionary
    print("You have choosen the following flavours: " + ", ".join([iceCreamFlavours[i] for i in chosenFlavours]))

    


#def populate_receipt_worksheet(data):
"""
"""
update the receipt worksheet with the order the customer made
    
    SHEET_receipt.append_row([date, time, question2, scoops, list])
    print("would you like a receipt?")
    receipt_worksheet = SHEET.worksheet("receipt")
    receipt_worksheet.append_row(data)
    print("reciept ready to print")
    return(populate_receipt_worksheet)
"""
start_order()
flavour_choice()  
print(f"That will be a total of â‚¬{price}")
print(customer_order)

